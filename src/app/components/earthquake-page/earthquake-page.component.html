<div class="earthquake">
  <mat-card>
    <mat-card-title>Earthquake Map</mat-card-title>

    <mat-card-content>
      <mat-tab-group>
        <mat-tab label="Description">

          <p>The Earthquake page provides the map with the earthquakes occurred across the word.</p>
          <p>While the page is loaded, the earthquakes from all day are displayed by default.</p>
          <p> The map can be zoomed in or zoomed out in order to display the earthquakes in a specific region or place.</p>
          <p>While the maps is zoomed out, the clusters show the number of earthquakes in a certain place.</p>
        </mat-tab>
        <mat-tab label="Markers and label">
          <p>The markers and labels are generated by Angular Google Maps component <a target="_blank" href="https://angular-maps.com/guides/getting-started/">AGM</a></p>


          <p>   In order to apply a marker on the map, each of them was provided with latitude and longitude coordinated fetched from the API <a target="_blank" href="https://earthquake.usgs.gov">USGS</a> </p>

        </mat-tab>
        <mat-tab label="Technology">
          <p>The following technologies were used in order to develop earthquake page:</p>
          <p>Google Maps <a target="_blank" href="https://maps.google.com">link</a></p>
          <p>United States Geological Survey API <a target="_blank" href="https://earthquake.usgs.gov/aboutus/">link</a></p>
          <p>Angular Google Maps <a target="_blank" href="https://angular-maps.com">link</a></p>

        </mat-tab>
      </mat-tab-group>
      <div class="header" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutAlign="flex-start">
        <div class="select_earthquakes" fxFlex="0 1 100%" fxFlex.gt-sm="0 1 50%">
          <h4>Select Earthquake Time Frame:</h4>
          <mat-form-field>
            <mat-select placeholder="Select Time Frame" (selectionChange)="onTimeFrameChange($event)">
              <mat-option value="day">All day</mat-option>
              <mat-option value="hour">Last Hour</mat-option>
              <mat-option value="month">All month</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="earthquakes_info" fxFlex="0 1 100%" fxFlex.gt-sm="0 1 50%">
          <h4>Earthquakes</h4>
        </div>
      </div>
      <agm-map [streetViewControl]="false" [latitude]="50" [longitude]="0" [scrollwheel]="true" [zoom]="3" (mapReady)="onMapReady($event)">
        <agm-marker-cluster imagePath="https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/markerclustererplus/images/m">
          <agm-marker
            *ngFor="let earthquake of markers"
            [latitude]="earthquake.geometry.coordinates[1]"
            [longitude]="earthquake.geometry.coordinates[0]"
          >
            <agm-snazzy-info-window
              closeWhenOthersOpen="true"
              isOpen="false"
              maxHeight="200px"
              [latitude]="earthquake.geometry.coordinates[1]"
              [longitude]="earthquake.geometry.coordinates[0]"
            >
              <ng-template>
                <p><strong>Magnitude: </strong> {{ earthquake.properties.mag }}</p>
                <p><strong>Place: </strong> {{ earthquake.properties.place }}</p>
                <p><strong>Time: </strong> {{ earthquake.properties.time | date }}</p>
                <p><strong>Type: </strong> {{ earthquake.properties.type }}</p>
              </ng-template>
            </agm-snazzy-info-window>
          </agm-marker>
        </agm-marker-cluster>
      </agm-map>
    </mat-card-content>
  </mat-card>
</div>
