<div class="earthquake">
  <mat-card>
    <mat-card-title>Earthquake Map</mat-card-title>
    <mat-card-subtitle>This page allows to receive current earthquakes</mat-card-subtitle>
    <mat-card-content>
      <div class="select_earthquakes">
        <h4>Select Earthquake Time Frame:</h4>
        <mat-form-field>
          <mat-select placeholder="Select Time Frame" (selectionChange)="onTimeFrameChange($event)" [(value)]="selected">
            <mat-option value="day">All day</mat-option>
            <mat-option value="hour">Last Hour</mat-option>
            <mat-option value="month">All month</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <agm-map [streetViewControl]="false" [latitude]="0" [longitude]="0" [scrollwheel]="true" [zoom]="2" (mapReady)="onMapReady($event)">
        <agm-marker-cluster imagePath="https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/markerclustererplus/images/m">
          <agm-marker
            *ngFor="let earthquake of markers"
            [latitude]="earthquake.geometry.coordinates[1]"
            [longitude]="earthquake.geometry.coordinates[0]"
          >
            <agm-snazzy-info-window
              [closeWhenOthersOpen]="true"
              [isOpen]="true"
              [latitude]="earthquake.geometry.coordinates[1]"
              [longitude]="earthquake.geometry.coordinates[0]"
            >
              <ng-template>
                {{ earthquake.properties.place | json | noQuotemark }}
              </ng-template>
            </agm-snazzy-info-window>
          </agm-marker>
        </agm-marker-cluster>
      </agm-map>
    </mat-card-content>
  </mat-card>
</div>
